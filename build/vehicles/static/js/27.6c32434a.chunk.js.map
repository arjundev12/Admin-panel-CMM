{"version":3,"sources":["views/customers/customerList.js"],"names":["Customers","useHistory","useState","showPerPage","total","setTotal","page","setPage","index","setIndex","user","setUser","useParams","id","useEffect","loadUser","a","data","offset","limit","console","log","axios","post","CONSTANT","res","warn","code","toast","docs","className","to","striped","bordered","hover","map","item","i","name","status","number","location","_id","onPaginationChange","start","end"],"mappings":"2TA4FeA,UAnFG,WACEC,cAAhB,IADoB,EAEkBC,mBAAS,GAF3B,mBAEbC,EAFa,aAGMD,mBAAS,IAHf,mBAGbE,EAHa,KAGNC,EAHM,OAIIH,mBAAS,GAJb,mBAIbI,EAJa,KAIPC,EAJO,OAKML,mBAAS,GALf,mBAKbM,EALa,KAKNC,EALM,OAMIP,mBAAS,IANb,mBAMbQ,EANa,KAMPC,EANO,KAOLC,cAAPC,GACRC,qBAAU,WACNC,EAAST,KACV,CAACA,EAAMF,IACV,IAAMW,EAAQ,uCAAG,8BAAAC,EAAA,4DACD,GACNC,EAAO,CACTC,OAAQZ,EACRa,MAAO,GAEXC,QAAQC,IAAI,WAAYJ,GANX,SAOKK,IAAMC,KAAN,UAAcC,IAAd,4BAAyDP,GAP9D,UAOPQ,EAPO,OAQbL,QAAQM,KAAK,UAAWD,EAAIR,KAAKA,MACd,KAAhBQ,EAAIR,KAAKU,KATC,wBAUTC,YAAM,yBAVG,UAWHvB,EAASoB,EAAIR,KAAKA,KAAKb,OAXpB,yBAYHO,EAAQc,EAAIR,KAAKA,KAAKY,MAZnB,gCAcTD,YAAM,uBAdG,4CAAH,qDA2Bd,OACI,gCACI,cAAC,IAAD,CAAME,UAAU,kBAAkBC,GAAG,aAArC,0BAGA,eAAC,IAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,gCACI,+BACI,sCACA,sCACA,wCACA,wCACA,yCACA,8CAGR,gCAEQxB,EAAKyB,KAAI,SAACC,EAAMC,GAAP,OAAa,+BAClB,6BAAKA,EAAE7B,EAAM,IACb,6BAAK4B,EAAKE,KAAOF,EAAKE,KAAO,OAC7B,6BAAKF,EAAKG,SACV,6BAAKH,EAAKI,SACV,6BAAKJ,EAAKK,WACV,+BAEI,cAAC,IAAD,CAAMX,UAAU,uBAAuBC,GAAE,yBAAoBK,EAAKM,KAAlE,oBACA,cAAC,IAAD,CAAMZ,UAAU,uBAAuBC,GAAE,2BAAsBK,EAAKM,KAApE,oCAOpB,cAAC,IAAD,IACA,cAAC,IAAD,CACIvC,YAAaA,EACbwC,mBA/Ce,SAACC,EAAOC,GAC/BzB,QAAQM,KAAK,UAAWkB,EAAOC,GAC/BtC,EAAQqC,GACRnC,EAASoC,IA6CDzC,MAAOA,EACPE,KAAMA","file":"static/js/27.6c32434a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, Link, useParams } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { Button, Table } from 'react-bootstrap'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport *as  CONSTANT  from '../../constant'\r\nimport Pagination from '../pagination/pagination'\r\n\r\nconst Customers = () => {\r\n    const history = useHistory()\r\n    const [showPerPage, setShowPerPage] = useState(3);\r\n    const [total, setTotal] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [index, setIndex] = useState(1);\r\n    const [user, setUser] = useState([]);\r\n    const { id } = useParams();\r\n    useEffect(() => {\r\n        loadUser(page);\r\n    }, [page, total]);\r\n    const loadUser = async () => {\r\n        let array = []\r\n        const data = {\r\n            offset: page,\r\n            limit: 3\r\n        }\r\n        console.log(\"requset0\", data)\r\n        const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/get-customers`,data);\r\n        console.warn(\"respons\", res.data.data)\r\n        if(res.data.code ==200){\r\n            toast(\"List get successfully\")\r\n            await setTotal(res.data.data.total)\r\n            await setUser(res.data.data.docs);\r\n        }else{\r\n            toast(\"somthing went wrong\")\r\n        }\r\n    };\r\n    const onPaginationChange = (start, end) => {\r\n        console.warn(\"getee, \", start, end)\r\n        setPage(start)\r\n        setIndex(end)\r\n    };\r\n    // const detailsView = async (item) => {\r\n    //     console.warn(\"inside handle click\", item)\r\n    //     // history.push(`/user/${item._id}  `)\r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            <Link className=\"btn btn-primary\" to=\"/dashboard\">\r\n                back to Home\r\n       </Link>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>S.no</th>\r\n                        <th>Name</th>\r\n                        <th>Status</th>\r\n                        <th>Number</th>\r\n                        <th>address</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        user.map((item, i) => <tr>\r\n                            <td>{i+index+1}</td>\r\n                            <td>{item.name ? item.name : null}</td>\r\n                            <td>{item.status}</td>\r\n                            <td>{item.number }</td>\r\n                            <td>{item.location }</td>\r\n                            <td>\r\n                                {/* <Link className=\"btn btn-primary mr-2 \" to={`/user/${item._id}`}>view </Link> */}\r\n                                <Link className=\"btn btn-primary mr-2\" to={`/customer/edit/${item._id}`}> edit </Link>\r\n                                <Link className=\"btn btn-primary mr-2\" to={`/wallet/customer/${item._id}`}> wallet </Link>\r\n                                {/* <Link className=\"btn btn-primary \" to=\"/\"> delete</Link> */}\r\n                                </td>\r\n                        </tr>)\r\n                    } \r\n                </tbody>\r\n            </Table>\r\n            <ToastContainer />\r\n            <Pagination\r\n                showPerPage={showPerPage}\r\n                onPaginationChange={onPaginationChange}\r\n                total={total}\r\n                page={page}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Customers\r\n"],"sourceRoot":""}