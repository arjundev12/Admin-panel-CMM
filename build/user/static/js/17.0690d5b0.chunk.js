(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{625:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var a=n(621),c=n.n(a),r=n(622),s=n(618),i=n(1),o=n(20),u=n(158),j=n(624),l=n.n(j),d=n(728),b=n(687),O=n(725),h=n(626),p=(n(627),n(620)),f=(n(633),n(625),n(656)),x=n.n(f),m=n(17);t.default=function(){Object(o.g)();var e=Object(i.useState)(10),t=Object(s.a)(e,2),n=(t[0],t[1],Object(i.useState)(0)),a=Object(s.a)(n,2),j=a[0],f=a[1],v=Object(i.useState)(1),w=Object(s.a)(v,2),g=w[0],y=(w[1],Object(i.useState)(1)),S=Object(s.a)(y,2),k=(S[0],S[1],Object(i.useState)([])),C=Object(s.a)(k,2),N=C[0],A=C[1];Object(o.i)().id;Object(i.useEffect)((function(){H(g)}),[g,j]);var H=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={offset:g,limit:10},console.log("requset0",t),e.next=4,l.a.post("".concat(p.a,"/api/admin/cities"),t);case 4:if(n=e.sent,console.warn("respons",n.data.data),200!=n.data.code){e.next=14;break}return Object(h.b)("List get successfully"),e.next=10,f(n.data.data.total);case 10:return e.next=12,A(n.data.data.docs);case 12:e.next=15;break;case 14:Object(h.b)("somthing went wrong");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("oninput change data ",n),a={},"status"==t.target.name&&(a.status=t.target.value),a._id=n._id,e.next=6,l.a.put("".concat(p.a,"/api/admin/update-city"),a);case 6:200==(r=e.sent).data.code?(Object(h.b)(r.data.message),H(g)):Object(h.b)("somthing went wrong");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=Object(i.useState)(!1),J=Object(s.a)(_,2),q=J[0],B=J[1],D=Object(i.useState)([]),E=Object(s.a)(D,2),F=E[0],L=E[1],T=Object(i.useState)(),z=Object(s.a)(T,2),G=z[0],K=z[1],M=Object(i.useState)(),P=Object(s.a)(M,2),Q=P[0],R=P[1],U=Object(i.useState)([]),V=Object(s.a)(U,2),W=V[0],X=V[1],Y=function(){return B(!1)},Z=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,x.a.getStatesOfCountry("IN");case 3:return t=e.sent,e.next=6,L(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t.target.value);case 2:return e.next=4,x.a.getCitiesOfState("IN",t.target.value);case 4:return n=e.sent,e.next=7,X(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={cityName:Q},e.next=4,l.a.post("".concat(p.a,"/api/admin/add-city"),n);case 4:(a=e.sent).data.code,Object(h.b)(a.data.message),Y(),H(g);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(u.b,{className:"btn btn-primary",to:"/dashboard",children:"back to Home"}),Object(m.jsx)(d.a,{variant:"primary",onClick:Z,children:"add city"}),Object(m.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"S.no"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Status"}),Object(m.jsx)("th",{children:"Actions"})]})}),Object(m.jsx)("tbody",{children:N.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.name?e.name:null}),Object(m.jsx)("td",{children:Object(m.jsxs)("select",{class:"form-control",name:"status",value:e.status,onChange:function(t){return I(t,e)},children:[Object(m.jsx)("option",{value:"1",children:"Active"}),Object(m.jsx)("option",{value:"0",children:"Inactive"})]})}),Object(m.jsx)("td",{children:Object(m.jsx)(u.b,{className:"btn btn-primary mr-2 ",to:"/view-city/".concat(e._id),children:"view "})})]})}))})]}),Object(m.jsxs)(O.a,{show:q,onHide:Y,children:[Object(m.jsx)(O.a.Header,{closeButton:!0,children:Object(m.jsx)(O.a.Title,{children:"Add City"})}),Object(m.jsxs)("div",{class:"row",children:[Object(m.jsxs)("div",{class:"form-group col-sm-6",children:[Object(m.jsx)("label",{children:"Select State Name"}),Object(m.jsx)("select",{class:"form-control",name:"regionName",onChange:function(e){return $(e)},value:G,children:F.map((function(e,t){return Object(m.jsx)("option",{value:e.isoCode,children:e.name})}))})]}),Object(m.jsxs)("div",{class:"form-group col-sm-6",children:[Object(m.jsx)("label",{children:"Select City Name"}),Object(m.jsx)("select",{class:"form-control",name:"cityName",onChange:function(e){return ee(e)},value:Q,children:W.map((function(e,t){return Object(m.jsx)("option",{value:e.name,children:e.name})}))})]})]}),Object(m.jsxs)(O.a.Footer,{children:[Object(m.jsx)(d.a,{variant:"secondary",onClick:Y,children:"Close"}),Object(m.jsx)(d.a,{variant:"primary",onClick:function(e){return te(e)},children:"Submit"})]})]}),Object(m.jsx)(h.a,{})]})}}}]);
//# sourceMappingURL=17.0690d5b0.chunk.js.map